{% extends 'fiscaat/base.html.twig' %}

{% block titel %}Weekinvoer{% endblock %}

{% block civisaldocontent %}
	<h2>Weekinvoer</h2>

	<form action="{{ url('csrdelft_fiscaat_weekinvoer_weekinvoer') }}" method="post" class="mt-4">
		<div class="row">
			<div class="col-md-5">
				<div class="form-group">
					<label for="uploadVeld">Van:</label>
					<input name="van" type="date" class="form-control" value="{{ van }}" />
				</div>
			</div>
			<div class="col-md-5">
				<div class="form-group">
					<label for="uploadVeld">Tot:</label>
					<input name="tot" type="date" class="form-control" value="{{ tot }}" />
				</div>
			</div>
			<div class="col-md-2">
				<div class="form-group">
					{{ csrfField() }}
					<label>&emsp;</label>
					<input class="btn btn-primary form-control" type="submit" value="Bekijk">
				</div>
			</div>
		</div>

		{% if weekinvoeren %}
			<div class="table-responsive">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Week</th>
							<th>Datum</th>
							<th>Totaal</th>
							{% for categorie in categorieen %}
								<th>{{ categorie }}</th>
							{% endfor %}
						</tr>
					</thead>
					<tbody>
						{% for weekinvoer in weekinvoeren|reverse %}
							<tr>
								<th style="white-space: nowrap;">{{ weekinvoer.jaar }}, week {{ weekinvoer.week }}</th>
								<td>{{ weekinvoer.datum|date('j-n-Y') }}</td>
								<th style="{% if weekinvoer.totaal < 0 %}color: red;{% endif %}">{{ weekinvoer.totaal|format_bedrag }}</th>
								{% for categorie in categorieen %}
									{% if categorie in weekinvoer.categorieen|keys %}
										<td style="{% if weekinvoer.categorieen[categorie] < 0 %}color: red;{% endif %}">
											{{ weekinvoer.categorieen[categorie]|format_bedrag }}
										</td>
									{% else %}
										<td></td>
									{% endif %}
								{% endfor %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		{% else %}
			Geen weekinvoeren in periode.
		{% endif %}

	</form>
{% endblock %}
